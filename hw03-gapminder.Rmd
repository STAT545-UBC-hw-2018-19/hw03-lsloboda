---
title: "hw03-gapminder"
output:
  github_document
---

# Using dplyr, ggplot2 to explore data

## Initialize the data

* Load the gapminder and tidyverse libraries:

```{r}
suppressPackageStartupMessages(library(tidyverse))
suppressPackageStartupMessages(library(gapminder))
```

* Take a snapshot of the data to *sanity check* that the data and variables appear as we expect:

```{r}
(head(gapminder))
```

*Observations:*
*Using the suppress messages command from cm008 blocks the library loading message from outputting.*

## Task 1

**Task:** Get the max and min GDP per capita for all continents

1. Filter the data by continent
2. Select the GDP per capita
3. Find the minimum and maximum values by: (i) analyzing the range; (ii) querying the min and max directly
4. Present the data in a table
5. Visualize the data in a graph
6. Interpret the data
*Why would we want to look at the max and min GDP per capita for each continent? 
(ii) Imagine we want to look at the distribution of min values and max values respectively to see if they are normal distributions.
(iii) Perhaps we want to see the average min GDP and the average max GDP. Or find the countries with the biggest gap between min and max values, respectively, Or the widest range between min and max values.
*Observations:*
*Finding the min and max directly is useful if you need to assign the values to individual variables, but using the range() command allows you to see both values faster with a single command. Both methods are used here because their redundancy permits error checking.*
*

```{r}
# 1. Filter and select the necessary data
gapminder %>% 
  select(year, gdpPercap, continent) %>% 
  #filter(country == "Germany") %>% 
  ggplot(aes(year, gdpPercap)) +
    geom_point()

# 2. Assign a variable name to the desired data (for easy access)
gdp <- (gapminder$gdpPercap)

# 3. Find the min and max
(range(gdp))
(min_gdp <- min(gdp))
(max_gdp <- max(gdp))

# 4. Present the data in a table

# 5. Visualize the data in a graph

gapminder %>%
  group_by(continent, lifeExp > 60) %>% 
  summarize(md = median(gdpPercap)) %>% 
  arrange(md)
  
  gapminder %>%
  mutate(hvsl = if_else(lifeExp >60, "high", "low")) %>% 
  group_by(continent, hvsl) %>% 
  summarize(md = median(gdpPercap)) %>% 
  arrange(md)


```


## Task 2

**Task:** Look at the spread of GDP per capita within the continents

1. Filter the data by continent
2. Select the GDP per capita
3. Find the minimum and maximum values by: (i) analyzing the range; (ii) querying the min and max directly
4. Present the data in a table
5. Visualize the data in a graph
6. Interpret the data
(i) Say we want to compare the relative ranges. We could compare just the min and max, but we will get a more complete picture by looking at the distribution.
(ii) Perhaps we want to know which continent has the widest spread? Narrowest spread?
(iii) 

```{r}

```


## Task 3

**Task:** Compute a trimmed mean of life expectancy for different years. Or a weighted mean, weighting by population. Just try something other than the plain vanilla mean.

1. Filter the data by continent
2. Select the GDP per capita
3. Find the minimum and maximum values by: (i) analyzing the range; (ii) querying the min and max directly
4. Present the data in a table
5. Visualize the data in a graph
6. Interpret the data

```{r}

```


## Task 4

**Task:** How is life expectancy changing over time on different continents?

1. Filter the data by continent
2. Select the GDP per capita
3. Find the minimum and maximum values by: (i) analyzing the range; (ii) querying the min and max directly
4. Present the data in a table
5. Visualize the data in a graph
6. Interpret the data

```{r}

```

